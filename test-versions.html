<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astrology Calculator - Style Version Tester</title>
    <!-- Default to Version 2 (Medium backgrounds) -->
    <link rel="stylesheet" href="styles-v2-medium.css" id="style-version">
    <link rel="stylesheet" href="background.css">
    <style>
        .version-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            display: flex;
            gap: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #d4af37;
            backdrop-filter: blur(20px);
        }
        .version-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        .version-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #d4af37;
            transform: translateY(-2px);
        }
        .version-btn.active {
            background: #d4af37;
            border-color: #d4af37;
            color: #000;
        }
        .version-info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            font-size: 0.9rem;
            z-index: 10000;
            backdrop-filter: blur(20px);
        }
        @media (max-width: 768px) {
            .version-selector {
                top: 10px;
                right: 10px;
                left: 10px;
                flex-wrap: wrap;
                justify-content: center;
            }
            .version-btn {
                flex: 1;
                min-width: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Version Selector -->
    <div class="version-selector">
        <button class="version-btn" onclick="switchVersion('v1')">V1: Subtle</button>
        <button class="version-btn active" onclick="switchVersion('v2')">V2: Medium</button>
        <button class="version-btn" onclick="switchVersion('v3')">V3: Strong</button>
    </div>

    <!-- Version Info Display -->
    <div class="version-info">
        <strong>Current:</strong> <span id="current-version">V2 - Medium Backgrounds (20%)</span>
    </div>

    <!-- Canvas Background -->
    <canvas id="celestial-canvas"></canvas>

    <div class="container">
        <header>
            <div class="header-content">
                <div class="header-text">
                    <h1>Astrology Calculator</h1>
                    <p class="subtitle">Discover your Spark and True Placement</p>
                </div>
                <button class="theme-toggle" id="theme-toggle">
                    <span id="theme-icon">ðŸŒ™</span>
                    <span id="theme-text">Dark</span>
                </button>
            </div>
        </header>

        <div class="calculator-tabs">
            <button class="tab-button active" onclick="showCalculator('spark')">Spark Calculator</button>
            <button class="tab-button" onclick="showCalculator('true-placement')">True Placement Calculator</button>
        </div>

        <!-- Spark Calculator -->
        <div id="spark-calculator" class="calculator-section active">
            <h2>Spark Calculator</h2>
            <p class="description">Find which "Spark" sign and Decan a planet is in based on its position</p>

            <form id="spark-form" class="calculator-form">
                <div class="form-group">
                    <label for="spark-planet">Planet:</label>
                    <select id="spark-planet" required>
                        <option value="">Select a planet...</option>
                        <option value="SUN">Sun</option>
                        <option value="MOON">Moon</option>
                        <option value="MERCURY">Mercury</option>
                        <option value="VENUS">Venus</option>
                        <option value="MARS">Mars</option>
                        <option value="JUPITER">Jupiter</option>
                        <option value="SATURN">Saturn</option>
                        <option value="URANUS">Uranus</option>
                        <option value="NEPTUNE">Neptune</option>
                        <option value="PLUTO">Pluto</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="spark-sign">Sign:</label>
                    <select id="spark-sign" required>
                        <option value="">Select a sign...</option>
                        <option value="Aries">Aries</option>
                        <option value="Taurus">Taurus</option>
                        <option value="Gemini">Gemini</option>
                        <option value="Cancer">Cancer</option>
                        <option value="Leo">Leo</option>
                        <option value="Virgo">Virgo</option>
                        <option value="Libra">Libra</option>
                        <option value="Scorpio">Scorpio</option>
                        <option value="Sagittarius">Sagittarius</option>
                        <option value="Capricorn">Capricorn</option>
                        <option value="Aquarius">Aquarius</option>
                        <option value="Pisces">Pisces</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="spark-degree">Degree (0-29):</label>
                    <input type="number" id="spark-degree" min="0" max="29" required>
                </div>

                <button type="submit" class="calculate-btn">Calculate Spark</button>
            </form>

            <div id="spark-results" class="result-section">
                <h3>Results</h3>
                <div id="spark-output"></div>
            </div>
        </div>

        <!-- True Placement Calculator -->
        <div id="true-placement-calculator" class="calculator-section">
            <h2>True Placement Calculator</h2>
            <p class="description">Calculate house placements based on planetary positions and rising sign</p>

            <form id="true-placement-form" class="calculator-form">
                <div class="form-group">
                    <label for="tp-planet">Planet:</label>
                    <select id="tp-planet" required>
                        <option value="">Select a planet...</option>
                        <option value="SUN">Sun</option>
                        <option value="MOON">Moon</option>
                        <option value="MERCURY">Mercury</option>
                        <option value="VENUS">Venus</option>
                        <option value="MARS">Mars</option>
                        <option value="JUPITER">Jupiter</option>
                        <option value="SATURN">Saturn</option>
                        <option value="URANUS">Uranus</option>
                        <option value="NEPTUNE">Neptune</option>
                        <option value="PLUTO">Pluto</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tp-sign">Planet's Sign:</label>
                    <select id="tp-sign" required>
                        <option value="">Select a sign...</option>
                        <option value="Aries">Aries</option>
                        <option value="Taurus">Taurus</option>
                        <option value="Gemini">Gemini</option>
                        <option value="Cancer">Cancer</option>
                        <option value="Leo">Leo</option>
                        <option value="Virgo">Virgo</option>
                        <option value="Libra">Libra</option>
                        <option value="Scorpio">Scorpio</option>
                        <option value="Sagittarius">Sagittarius</option>
                        <option value="Capricorn">Capricorn</option>
                        <option value="Aquarius">Aquarius</option>
                        <option value="Pisces">Pisces</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tp-rising">Rising Sign (Ascendant):</label>
                    <select id="tp-rising" required>
                        <option value="">Select rising sign...</option>
                        <option value="Aries">Aries</option>
                        <option value="Taurus">Taurus</option>
                        <option value="Gemini">Gemini</option>
                        <option value="Cancer">Cancer</option>
                        <option value="Leo">Leo</option>
                        <option value="Virgo">Virgo</option>
                        <option value="Libra">Libra</option>
                        <option value="Scorpio">Scorpio</option>
                        <option value="Sagittarius">Sagittarius</option>
                        <option value="Capricorn">Capricorn</option>
                        <option value="Aquarius">Aquarius</option>
                        <option value="Pisces">Pisces</option>
                    </select>
                </div>

                <button type="submit" class="calculate-btn">Calculate True Placement</button>
            </form>

            <div id="tp-results" class="result-section">
                <h3>Results</h3>
                <div id="tp-output"></div>
            </div>
        </div>
    </div>

    <script type="module" src="background/init.js"></script>
    <script src="calculator.js"></script>
    <script>
        // Version switching functionality
        function switchVersion(version) {
            const styleLink = document.getElementById('style-version');
            const versionInfo = document.getElementById('current-version');
            const buttons = document.querySelectorAll('.version-btn');

            // Remove active class from all buttons
            buttons.forEach(btn => btn.classList.remove('active'));

            // Add active class to clicked button
            event.target.classList.add('active');

            // Update stylesheet and info
            switch(version) {
                case 'v1':
                    styleLink.href = 'styles-v1-subtle.css';
                    versionInfo.textContent = 'V1 - Subtle Backgrounds (10%)';
                    localStorage.setItem('preferredVersion', 'v1');
                    break;
                case 'v2':
                    styleLink.href = 'styles-v2-medium.css';
                    versionInfo.textContent = 'V2 - Medium Backgrounds (20%)';
                    localStorage.setItem('preferredVersion', 'v2');
                    break;
                case 'v3':
                    styleLink.href = 'styles-v3-strong.css';
                    versionInfo.textContent = 'V3 - Strong Backgrounds (30%)';
                    localStorage.setItem('preferredVersion', 'v3');
                    break;
            }
        }

        // Load saved version preference on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedVersion = localStorage.getItem('preferredVersion') || 'v2';
            const buttons = document.querySelectorAll('.version-btn');

            // Find and click the appropriate button
            buttons.forEach(btn => {
                if (btn.textContent.toLowerCase().includes(savedVersion)) {
                    btn.click();
                }
            });
        });
    </script>
</body>
</html>
